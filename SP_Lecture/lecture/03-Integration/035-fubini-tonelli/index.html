
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../034-independence/">
      
      
        <link rel="next" href="../036-uniform-integrability/">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.4">
    
    
      
        <title>Fubini-Tonelli - Stochastics</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.8608ea7d.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Mono:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto Mono";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="orange" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#fubini-tonelli-stochastic-kernel" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Stochastics" class="md-header__button md-logo" aria-label="Stochastics" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Stochastics
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Fubini-Tonelli
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="orange" data-md-color-accent="indigo"  aria-label="Switch to light"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
    
  
  
    
    
      
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../00-Introduction/000-notations/" class="md-tabs__link">
          
  
    
  
  Lecture

        </a>
      </li>
    
  

    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Stochastics" class="md-nav__button md-logo" aria-label="Stochastics" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Stochastics
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Lecture
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Lecture
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" >
        
          
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            Introduction
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00-Introduction/000-notations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Notations
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Sets, Continuity and Measurability
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            Sets, Continuity and Measurability
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../01-Sets-Functions/010-introduction/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../01-Sets-Functions/011-sets/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sets
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../01-Sets-Functions/012-measurability-topology/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Measurable/Topological Sapces
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../01-Sets-Functions/013-measurable-continuous-functions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Measurability/Continuity
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Measure Theory, Construction
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            Measure Theory, Construction
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02-Measure/020-introduction/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02-Measure/021-measure/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Measures
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02-Measure/022-semi-ring-to-ring/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    From Semi-Ring to Ring
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02-Measure/023-ring-to-s-algebra/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    From Ring to $\sigma$-Algebra
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" checked>
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Expectation
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            Expectation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../030-introduction/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction/Notations
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../031-expectation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Expectation, Lebesgue's Convergence
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../032-lp-spaces-inequalities/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    $L^p$-Spaces and Classical Inequalities
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../033-radon-nikodym-cond-exp/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Radon-Nykodym and Conditional Expectation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../034-independence/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Independence
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Fubini-Tonelli
    
  </span>
  

      </a>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../036-uniform-integrability/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Uniform Integrability
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5" >
        
          
          <label class="md-nav__link" for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Discrete Time Stochastic Processes, Martingales
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5">
            <span class="md-nav__icon md-icon"></span>
            Discrete Time Stochastic Processes, Martingales
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../04-Martingales/040-introduction/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../04-Martingales/041-discrete-time-processes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Discrete Time Processes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../04-Martingales/042-martingale-doob/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Martingales
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../04-Martingales/043-martingale-as-convergence/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Martingales Almost Sure Convergence
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../04-Martingales/044-martingale-lp-convergence/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Martingales $L^p$ Convergence
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6" >
        
          
          <label class="md-nav__link" for="__nav_2_6" id="__nav_2_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Markov Processes
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_6">
            <span class="md-nav__icon md-icon"></span>
            Markov Processes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../05-Markov/050-introduction/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../05-Markov/051-markov-extension/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Markov Processes
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="fubini-tonelli-stochastic-kernel">Fubini-Tonelli, Stochastic Kernel</h1>
<p>The theorem of Fubini-Tonelli is concerned with the definition of sound product measures on finite product spaces and their properties.
To do so, we will make use of Carathéodory's extension Theorem.
In the following, we consider the two-dimensional case.</p>
<p>Let <span class="arithmatex">\((\Omega_1,\mathcal{F}_1)\)</span> and <span class="arithmatex">\((\Omega_2, \mathcal{F}_2)\)</span> be two measurable spaces and define <span class="arithmatex">\(\Omega =\Omega_1 \times \Omega_2\)</span> endowed with the product <span class="arithmatex">\(\sigma\)</span>-algebra <span class="arithmatex">\(\mathcal{F}=\mathcal{F}_1\otimes \mathcal{F}_2\)</span>.</p>
<div class="admonition proposition">
<p class="admonition-title">Proposition</p>
<p>Let <span class="arithmatex">\(A\)</span> be an event in the product <span class="arithmatex">\(\sigma\)</span>-algebra <span class="arithmatex">\(\mathcal{F}=\mathcal{F}_1\otimes \mathcal{F}_2\)</span> and <span class="arithmatex">\(X\colon \Omega \to \mathbb{R}\)</span> be a measurable function.
Define</p>
<div class="arithmatex">\[
\begin{align}
    A_{\omega_1} &amp; :=\{\omega_2\in \Omega_2\colon (\omega_1,\omega_2)\in A\}\subseteq \Omega_2,  &amp;\quad A_{\omega_2} &amp; :=\{\omega_1\in \Omega_1\colon (\omega_1,\omega_2)\in A\}\subseteq \Omega_1,\\
    X_{\omega_1} &amp; :=X(\omega_1,\cdot):\Omega_2\to \mathbb{R},  &amp;\quad X_{\omega_2} &amp; :=X(\cdot,\omega_2):\Omega_1\to \mathbb{R}.
\end{align}
\]</div>
<p>Then it holds that <span class="arithmatex">\(A_{\omega_1}\)</span> and <span class="arithmatex">\(A_{\omega_2}\)</span> are events in <span class="arithmatex">\(\mathcal{F}_2\)</span> and <span class="arithmatex">\(\mathcal{F}_1\)</span> respectively.
Furthermore, <span class="arithmatex">\(X_{\omega_1}\)</span> is <span class="arithmatex">\(\mathcal{F}_2\)</span>-measurable, and <span class="arithmatex">\(X_{\omega_2}\)</span> is <span class="arithmatex">\(\mathcal{F}_1\)</span>-measurable.</p>
</div>
<div class="admonition proof">
<p class="admonition-title">Proof</p>
<p>Let <span class="arithmatex">\(\mathcal{C}\)</span> be the collection of those <span class="arithmatex">\(A\in\mathcal{F}\)</span> such that <span class="arithmatex">\(A_{\omega_2}\times A_{\omega_1}\)</span> is in <span class="arithmatex">\(\mathcal{F}_1\times \mathcal{F}_2\)</span>.
It clearly holds that <span class="arithmatex">\(\mathcal{F}_1\times \mathcal{F}_2\subseteq \mathcal{C}\)</span>.
Direct inspection shows that <span class="arithmatex">\(\mathcal{C}\)</span> is a <span class="arithmatex">\(\sigma\)</span>-algebra, and therefore </p>
<div class="arithmatex">\[
  \mathcal{F}=\sigma(\mathcal{F}_1\times \mathcal{F}_2)\subseteq \mathcal{C}\subseteq \mathcal{F},
\]</div>
<p>showing the first assertion.</p>
<p>As for the second point, let <span class="arithmatex">\(B\)</span> be a Borel set in <span class="arithmatex">\(\mathbb{R}\)</span>.
It follows that <span class="arithmatex">\(\{X_{\omega_1}\in B\}=\{X\in B\}_{\omega_1}\)</span>, which is an element of <span class="arithmatex">\(\mathcal{F}_2\)</span> by what has just been shown.
Hence, <span class="arithmatex">\(X_{\omega_1}\)</span> is <span class="arithmatex">\(\mathcal{F}_2\)</span>-measurable.
The same argumentation holds for <span class="arithmatex">\(X_{\omega_2}\)</span>.</p>
</div>
<div class="admonition definition">
<p class="admonition-title">Definition: Stochastic Kernel</p>
<p>A <em>stochastic kernel</em> on <span class="arithmatex">\(\Omega_1\times \mathcal{F}_2\)</span> is a function <span class="arithmatex">\(K\colon \Omega_1\times \mathcal{F}_2\to [0,1]\)</span> such that</p>
<ol>
<li><span class="arithmatex">\(\omega_1\mapsto K(\omega_1,A_2)\)</span> is <span class="arithmatex">\(\mathcal{F}_1\)</span>-measurable for every event <span class="arithmatex">\(A_2\)</span> in <span class="arithmatex">\(\mathcal{F}_2\)</span>.</li>
<li><span class="arithmatex">\(A_2\mapsto K(\omega_1,A_2)\)</span> is a probability measure on <span class="arithmatex">\(\mathcal{F}_2\)</span> for every <span class="arithmatex">\(\omega_1 \in \Omega_1\)</span>.</li>
</ol>
</div>
<p>A stochastic kernel is, in some sense, a measurable family of probability measures on <span class="arithmatex">\(\mathcal{F}_1\)</span>, one for each state <span class="arithmatex">\(\omega_1\)</span> in <span class="arithmatex">\(\Omega_1\)</span>.
A special case of a stochastic kernel is the constant one <span class="arithmatex">\(K(\omega_1,\cdot)=P_2\)</span> for all states <span class="arithmatex">\(\omega_1\)</span> in <span class="arithmatex">\(\Omega_1\)</span>, where <span class="arithmatex">\(P_2\)</span> is a probability measure on <span class="arithmatex">\(\mathcal{F}_2\)</span>.</p>
<p>Given a probability measure <span class="arithmatex">\(P_1\)</span> on <span class="arithmatex">\(\mathcal{F}_1\)</span>, we want to define a probability measure <span class="arithmatex">\(P\)</span> on the product <span class="arithmatex">\(\sigma\)</span>-algebra <span class="arithmatex">\(\mathcal{F}\)</span> such that</p>
<div class="arithmatex">\[
P[A]=\int_{\Omega_1}\left( \int_{\Omega_2}1_A(\omega_1,\omega_2)K(\omega_1,d\omega_2) \right)P_1(d\omega_1).
\]</div>
<p>This is the subject of the following theorem.</p>
<div class="admonition theorem">
<p class="admonition-title">Stochastic variant of Tonelli's Theorem</p>
<p>Let <span class="arithmatex">\(P_1\)</span> be a measure on <span class="arithmatex">\(\mathcal{F}_1\)</span> and <span class="arithmatex">\(K\)</span> a stochastic kernel on <span class="arithmatex">\(\Omega_1\times \mathcal{F}_2\)</span>.
Then there exists a unique probability measure <span class="arithmatex">\(P\)</span> on <span class="arithmatex">\(\mathcal{F}\)</span> such that for every positive random variable <span class="arithmatex">\(X\colon \Omega \to \mathbb{R}\)</span>, it holds</p>
<div class="arithmatex">\[
  E_P\left[ X \right]=\int_{\Omega_1}\left( \int_{\Omega_2} X(\omega_1,\omega_2)K(\omega_1,d\omega_2) \right)P_1(d\omega_1)
\]</div>
<p>In particular,</p>
<div class="arithmatex">\[
  P[A]=\int_{\Omega_1}K(\omega_1, A_{\omega_1})P_1(d\omega_1)
\]</div>
<p>for any event <span class="arithmatex">\(A\)</span> in <span class="arithmatex">\(\mathcal{F}\)</span>.</p>
</div>
<div class="admonition proof">
<p class="admonition-title">Proof</p>
<p>Define <span class="arithmatex">\(\mathcal{R}=\mathcal{F}_1\times \mathcal{F}_2\)</span> and the set function <span class="arithmatex">\(P\colon \mathcal{R}\to [0,1]\)</span> given by</p>
<div class="arithmatex">\[
  P[A]=\int_{A_1}K(\omega_1,A_2)P_1(d\omega_1)
\]</div>
<p>For any element <span class="arithmatex">\(A_1 \times A_2\)</span> in $\mathcal{R}.
Inspection shows that <span class="arithmatex">\(\mathcal{R}\)</span> is a semi-ring that contains <span class="arithmatex">\(\Omega\)</span>.
To apply Carathéodory’s extension Theorem, we must show that <span class="arithmatex">\(P\)</span> is a <span class="arithmatex">\(\sigma\)</span>-additive pre-measure.</p>
<p>It clearly holds that <span class="arithmatex">\(P[\emptyset]=0\)</span> and </p>
<div class="arithmatex">\[
  P[\Omega]=\int_{\Omega_1}K(\omega_1,\Omega_2)P_1[d\omega_1]=\int_{\Omega_1}P_1[d\omega_1]=1.
\]</div>
<p>Let <span class="arithmatex">\((A_1^n\times A_2^n)\)</span> be a sequence of pairwise disjoint elements of <span class="arithmatex">\(\mathcal{R}\)</span> such that <span class="arithmatex">\(\cup A_1^n\times A_2^n=A_1\times A_2\)</span> in <span class="arithmatex">\(\mathcal{R}\)</span> for some <span class="arithmatex">\(A_1\in \mathcal{F}_1\)</span> and <span class="arithmatex">\(A_2 \in \mathcal{F}_2\)</span> and define the functions</p>
<div class="arithmatex">\[
\begin{aligned}
    X_n(\omega_1)&amp;:=1_{A_1^n}(\omega_1)K(\omega_1,A_2^n)=\int_{\Omega_2}1_{A_1^n\times A_2^n}(\omega_1,\omega_2)K(\omega_1,d\omega_2),\\
    X(\omega_1)&amp;:=1_{A_1}(\omega_1)K(\omega_1,A_2)=\int_{\Omega_2}1_{A_1\times A_{2}}(\omega_1,\omega_2)K(\omega_1,d\omega_2).
\end{aligned}
\]</div>
<p>Furthermore, due to the pairwise disjointness of <span class="arithmatex">\((A_1^n\times A_2^n)\)</span>, as well as monotone convergence, it follows that</p>
<div class="arithmatex">\[
\sum X_n(\omega_1)=\int_{\Omega_1}\sum 1_{A_1^n\times A_2^n}(\omega_1,\omega_2)K(\omega_1,d\omega_2)=\int_{\Omega_2}1_{\cup A_1^n\times A_2^n}K(\omega_1,d\omega_2)=X(\omega_1)
\]</div>
<p>for any state <span class="arithmatex">\(\omega_1\)</span> in <span class="arithmatex">\(\Omega_1\)</span>.  <br />
Hence, once again, monotone convergence yields</p>
<div class="arithmatex">\[
  P[A_1\times A_2]=\int_{\Omega_1}X(\omega_1)P_1(d\omega_1)=\sum\int_{\Omega_1}X_n(\omega_1)P_1(d\omega_1)=\sum P[A_1^n\times A_2^n].
\]</div>
<p>showing the <span class="arithmatex">\(\sigma\)</span>-additivity.</p>
<p>It follows that we can apply Carathéodory's extension Theorem, ensuring the existence of a unique measure <span class="arithmatex">\(P\)</span> on <span class="arithmatex">\(\mathcal{F}\)</span> satisfying</p>
<div class="arithmatex">\[
  P[A_1\times A_2]=\int_{A_1}K(\omega_1,A_2)P_{1}(d\omega_1), \quad A_1 \times A_2 \in \mathcal{F}_1\times \mathcal{F}_2.
\]</div>
<p>Let us now show that</p>
<div class="arithmatex">\[
  P[A]=\int_{\Omega_1}K(\omega_1, A_{\omega_1})P_1(d\omega_1)
\]</div>
<p>holds.
Define the collection <span class="arithmatex">\(\mathcal{C}\)</span> of those events <span class="arithmatex">\(A\)</span> in <span class="arithmatex">\(\mathcal{F}\)</span> such that this relation holds.  <br />
For <span class="arithmatex">\(A=A_1\times A_2\)</span>, it follows that <span class="arithmatex">\(A_{\omega_1}=A_2\)</span> if <span class="arithmatex">\(\omega_1 \in A_1\)</span> and <span class="arithmatex">\(\emptyset\)</span> otherwise.
It follows that </p>
<div class="arithmatex">\[
  K(\omega_1,A_{\omega_1})=1_{A_1}(\omega_1)K(\omega_1,A_2),
\]</div>
<p>showing that <span class="arithmatex">\(\mathcal{F}_1\times \mathcal{F}_2\subseteq \mathcal{C}\)</span>.  <br />
In particular, <span class="arithmatex">\(\Omega \in \mathcal{C}\)</span>.
Furthermore, for every pairwise disjoint sequence <span class="arithmatex">\((A^n)\)</span> of elements in <span class="arithmatex">\(\mathcal{C}\)</span>, denoting <span class="arithmatex">\(A=\cup A^n\)</span>, it follows from monotone convergence that </p>
<div class="arithmatex">\[
\begin{align}
    P\left[ A\right]&amp;=\sum P[A^n]
    =\int_{\Omega_1}\sum K(\omega_1,A_{\omega_1}^n)P_1(d\omega_1)\\
    &amp;=\int_{\Omega_1}K(\omega_1,\cup A_{\omega_1}^n)P(d\omega_1)
    =\int_{\Omega_1}K(\omega_1,A_{\omega_1})P(d\omega_1)
\end{align}
\]</div>
<p>showing that <span class="arithmatex">\(A \in \mathcal{C}\)</span>.
Finally, for <span class="arithmatex">\(A \in \mathcal{C}\)</span>, it follows that</p>
<div class="arithmatex">\[
  P[A^c]=1-P[A] =\int_{\Omega_1} \left( 1-K(\omega_1,A_{\omega_1}) \right)P(d\omega_1) =\int_{\Omega_1} K(\omega_1,A_{\omega_1}^c)P(d\omega_1)
\]</div>
<p>showing that <span class="arithmatex">\(A^c \in \mathcal{C}\)</span>.
Hence, <span class="arithmatex">\(\mathcal{C}\)</span> is a <span class="arithmatex">\(\lambda\)</span>-system that contains the <span class="arithmatex">\(\pi\)</span>-system <span class="arithmatex">\(\mathcal{F}_1\times \mathcal{F}_2\)</span>.
Hence, by Dynkin's <span class="arithmatex">\(\pi\)</span>-<span class="arithmatex">\(\lambda\)</span> lemma, it follows that</p>
<div class="arithmatex">\[
\sigma(\mathcal{F}_1\times \mathcal{F}_2)\subseteq \mathcal{C}\subseteq \mathcal{F}=\sigma(\mathcal{F}_1\times \mathcal{F}_2)
\]</div>
<p>showing that <span class="arithmatex">\(\mathcal{C}=\mathcal{F}\)</span>, that is, showing that the second equation of the Theorem holds for any event <span class="arithmatex">\(A\)</span> in <span class="arithmatex">\(\mathcal{F}\)</span>.</p>
<p>As for expectation equality from the theorem, it follows from the fact that every positive random variable <span class="arithmatex">\(X\colon\Omega \to \mathbb{R}\)</span> can be approximated by step functions, ending the proof.</p>
</div>
<div class="admonition definition">
<p class="admonition-title">Definition: Product Measure</p>
<p>With the notations of Theorem the previous theorem, we denote this unique measure by <span class="arithmatex">\(P=P_1\otimes K\)</span>.</p>
<p>In the case where <span class="arithmatex">\(K(\omega_1,\cdot)=P_2\)</span> for all <span class="arithmatex">\(\omega_1 \in \Omega_1\)</span> for some measure <span class="arithmatex">\(P_2\)</span> on <span class="arithmatex">\(\mathcal{F}_2\)</span>, then <span class="arithmatex">\(P\)</span> is called the <strong>product measure</strong> of <span class="arithmatex">\(P_1\)</span> and <span class="arithmatex">\(P_2\)</span> on the product space and is denoted by <span class="arithmatex">\(P=P_1\otimes P_2\)</span>.</p>
</div>
<p>In the case of a product measure, due to symmetry, it holds in particular</p>
<div class="arithmatex">\[
\int_{\Omega}X(\omega)P(d\omega)=\int_{\Omega_1}\left( \int_{\Omega_2}X(\omega_1,\omega_2) P_2(d\omega_2)\right)P_1(d\omega_1)=\int_{\Omega_2}\left( \int_{\Omega_1}X(\omega_1,\omega_2) P_1(d\omega_1)\right)P_2(d\omega_2).
\]</div>
<div class="admonition corollary">
<p class="admonition-title">Corollary</p>
<p>Let <span class="arithmatex">\(X\)</span> be a positive random variable on some probability space <span class="arithmatex">\((\Omega,\mathcal{F},P)\)</span>. Then it holds</p>
<div class="arithmatex">\[
E[X]=\int_{0}^\infty P\left[ X&gt;x \right]\lambda(dx),
\]</div>
<p>where <span class="arithmatex">\(\lambda\)</span> is the Lebesgue measure on <span class="arithmatex">\(\mathbb{R}\)</span>.</p>
</div>
<div class="admonition proof">
<p class="admonition-title">Proof</p>
<p>For almost all state <span class="arithmatex">\(\omega\)</span> in <span class="arithmatex">\(\Omega\)</span>, we have <span class="arithmatex">\(X(\omega)\geq 0\)</span>, and therefore</p>
<div class="arithmatex">\[
  X(\omega)=\int_{0}^{X(\omega)}\lambda(dx)=\int_{0}^{\infty}1_{\{X(\omega)&gt;x\}}\lambda(dx),
\]</div>
<p>where <span class="arithmatex">\(\lambda\)</span> is the Lebesgue measure on <span class="arithmatex">\(\mathbb{R}\)</span>.
Since <span class="arithmatex">\((\omega,x)\mapsto 1_{\{X(\omega)&gt;x\}}\)</span> is a <span class="arithmatex">\(\mathcal{F}\otimes \mathcal{B}(\mathbb{R}_+)\)</span>-measurable function, by Fubini-Tonelli for the product measure <span class="arithmatex">\(P\otimes \lambda\)</span>, it holds</p>
<div class="arithmatex">\[
\begin{align}
    E\left[ X \right] &amp;=\int_{\Omega} \left(\int_{0}^{\infty} 1_{\{X(\omega)&gt;x\}}\lambda(dx)\right)P(d\omega) \\
    &amp;=\int_{\Omega\times \mathbb{R}_+} 1_{\{X(\omega)&gt;x\}}P\otimes \lambda(d\omega dx) \\
    &amp;=\int_{0}^{\infty} \left(\int_{\Omega} 1_{\{X(\omega)&gt;x\}}P(d\omega)\right)\lambda(dx) \\
    &amp;=\int_{0}^{\infty} E\left[ 1_{\{X&gt;x\}} \right]\lambda(dx) \\
    &amp;=\int_{0}^{\infty} P\left[ X&gt;x \right]\lambda(dx).
\end{align}
\]</div>
</div>
<p>We now address the stochastic variant of Fubini's theorem since we considered a stochastic kernel instead of a simple probability measure.
Let <span class="arithmatex">\(X\)</span> and <span class="arithmatex">\(Y\)</span> be two random variables on some probability space <span class="arithmatex">\((\Omega,\mathcal{F},P)\)</span>.
We consider the probability measure <span class="arithmatex">\(P_{(X,Y)}\)</span> on the product Borel <span class="arithmatex">\(\sigma\)</span>-algebra of <span class="arithmatex">\(\mathbb{R}^2\)</span> given by</p>
<div class="arithmatex">\[
  P_{(X,Y)}[B]=P\left[ (X,Y)\in B \right]
\]</div>
<p>for any Borel set <span class="arithmatex">\(B\)</span> on <span class="arithmatex">\(\mathbb{R}^2\)</span>.
We suppose that this joint distribution <span class="arithmatex">\(P_{(X,Y)}\)</span> can be decomposed into <span class="arithmatex">\(P_1\otimes K\)</span> for some probability measure <span class="arithmatex">\(P_1\)</span> on <span class="arithmatex">\(\mathcal{B}(\mathbb{R})\)</span> and a stochastic kernel <span class="arithmatex">\(K\)</span> on <span class="arithmatex">\(\mathbb{R}\times \mathcal{B}(\mathbb{R})\)</span>.
We will see later that this is always the case.
Note that by Tonelli's Theorem, it holds</p>
<div class="arithmatex">\[
\begin{align}
    P_X[B_1]&amp;=P[X\in B_1]=P\left[ (X,Y)\in B_1\times \mathbb{R} \right]=P_{(X,Y)}[B_1\times \mathbb{R}]\\
    &amp;=\int_{\mathbb{R}}1_{B_1}(x)K(x,\mathbb{R})P_1(dx)=\int_{\mathbb{R}}1_{B_1}(x)P_1(dx)=P_1[B_1]
\end{align}
\]</div>
<p>showing that <span class="arithmatex">\(P_X=P_1\)</span>, justifying therefore the notation <span class="arithmatex">\(P_{(X,Y)}=P_X\otimes K_{Y|X}\)</span>.</p>
<div class="admonition theorem">
<p class="admonition-title">Theorem</p>
<p>Let <span class="arithmatex">\(X\)</span> and <span class="arithmatex">\(Y\)</span> be two random variables whose joint distribution is given by <span class="arithmatex">\(P_X\otimes K_{Y|X}\)</span>, where <span class="arithmatex">\(P_X\)</span> is the distribution of <span class="arithmatex">\(X\)</span> and <span class="arithmatex">\(K_{Y|X}\)</span> is a stochastic kernel on <span class="arithmatex">\(\mathbb{R}\times \mathcal{B}(\mathbb{R})\)</span>.</p>
<p>For every positive random variable <span class="arithmatex">\(g\colon \mathbb{R}^2\to \mathbb{R}_+\)</span> such that <span class="arithmatex">\(g(X,Y)\)</span> is integrable, it holds</p>
<div class="arithmatex">\[
  E\left[ g(X,Y)|\sigma(X) \right]=\int_{\mathbb{R}}g(X,y)K_{Y|X}(X,dy)
\]</div>
<p><span class="arithmatex">\(P\)</span>-almost surely.</p>
</div>
<p>This relation means that for <span class="arithmatex">\(P\)</span>-almost all <span class="arithmatex">\(\omega \in \Omega\)</span>, it holds</p>
<div class="arithmatex">\[
E\left[ g(X,Y)|\sigma(X) \right](\omega)=\int_{\mathbb{R}}g(X(\omega),y)K_{Y|X}(X(\omega),dy).
\]</div>
<div class="admonition proof">
<p class="admonition-title">Proof</p>
<p>From Tonelli's Theorem's proof, the function <span class="arithmatex">\(x\mapsto h(x):=\int_{\mathbb{R}}g(x,y)K_{Y|X}(x,dy)\)</span> for <span class="arithmatex">\(x\)</span> in <span class="arithmatex">\(\mathbb{R}\)</span>, is measurable, and therefore </p>
<div class="arithmatex">\[
  h(X)=\int_{\mathbb{R}}g(X,y)K_{Y|X}(X,dy)
\]</div>
<p>is a positive random variable.
Let <span class="arithmatex">\(A\)</span> be an event in <span class="arithmatex">\(\sigma(X)\)</span>. 
It follows that <span class="arithmatex">\(A=X^{-1}(B)\)</span> for some Borel set <span class="arithmatex">\(B \in \mathbb{R}\)</span>.
Therefore,</p>
<div class="arithmatex">\[
\begin{align}
    E\left[ 1_{A}g(X,Y) \right] &amp;= E\left[ 1_{B}(X)g(X,Y) \right] \\
    &amp;=\int_{\mathbb{R}^2} 1_{B}(x)g(x,y)P_X\otimes K_{Y|X}(dx,dy) \\
    &amp;=\int_{\mathbb{R}}\left( \int_{\mathbb{R}}1_B(x)g(x,y) K_{Y|X}(x,dy)\right)P_X(dx) \\
    &amp;=\int_{\mathbb{R}}1_{B}(x)\left( \int_{\mathbb{R}}g(x,y) K_{Y|X}(x,dy)\right)P_X(dx) \\
    &amp;=\int_{\mathbb{R}}1_B(x)h(x)P_{X}(dx) \\
    &amp;=E\left[ 1_A h(X) \right].
\end{align}
\]</div>
<p>This concludes the proof.</p>
</div>
<div class="admonition remark">
<p class="admonition-title">Remark</p>
<p>As in the previous theorem, let <span class="arithmatex">\(X\)</span> and <span class="arithmatex">\(Y\)</span> be two random variables whose joint distribution is given by <span class="arithmatex">\(P_{(X,Y)}\)</span>.
Suppose that <span class="arithmatex">\(P_{(X,Y)}\)</span> is absolutely continuous with respect to the Lebesgue measure on <span class="arithmatex">\(\mathbb{R}^2\)</span>.
It follows that there exists a Lebesgue-almost surely unique positive function <span class="arithmatex">\(f_{(X,Y)}\colon \mathbb{R}^2\to \mathbb{R}\)</span> with expectation <span class="arithmatex">\(1\)</span> such that</p>
<div class="arithmatex">\[
E\left[ g(X,Y) \right]=\int_{\mathbb{R}^2} g(x,y)f_{(X,Y)}(x,y)dxdy.
\]</div>
<p>It follows that the density of <span class="arithmatex">\(X\)</span> and <span class="arithmatex">\(Y\)</span> are respectively given by</p>
<div class="arithmatex">\[
f_X(x)=\int_{\mathbb{R}} f_{(X,Y)}(x,y)dy\quad \text{and}\quad f_{Y}(y)=\int_{\mathbb{R}} f_{(X,Y)}(x,y)dx.
\]</div>
<p>By defining</p>
<div class="arithmatex">\[
f_{Y|X}(x,y)=\frac{f_{(X,Y)}(x,y)}{f_{X}(x)}1_{\{f_X(x)&gt;0\}}+f_{Y}(y)1_{\{f_X(x)=0\}},
\]</div>
<p>inspection shows that</p>
<div class="arithmatex">\[
K_{Y|X}(x,A):=\int_{A} f_{Y|X}(x,y)dy
\]</div>
<p>defines a kernel.
It holds</p>
<div class="arithmatex">\[
\begin{align}
    P_X\otimes K_{Y|X}[A\times B]&amp;=\int_{\mathbb{A}} \left(\int_{B} \frac{f_{(X,Y)}(x,y)}{f_{X}(x)}1_{\{f_X(x)&gt;0\}}+f_{Y}(y)1_{\{f_X(x)=0\}} dy\right)f_{X}(x)dx\\
    &amp;=\int_{\mathbb{A}} \int_{B} f_{(X,Y)}(x,y) dydx=P_{(X,Y)}[A\times B]
\end{align}
\]</div>
<p>for every <span class="arithmatex">\(A\)</span> and <span class="arithmatex">\(B\)</span> in <span class="arithmatex">\(\mathcal{B}(\mathbb{R})\)</span>.
From the uniqueness assumption of Fubini-Tonelli's theorem, it follows that </p>
<div class="arithmatex">\[
P_{(X,Y)}=P_X\otimes K_{Y|X}.
\]</div>
<p>And following the theorem, it follows that</p>
<div class="arithmatex">\[
  E\left[ g(X,Y) \right]=\int_{\mathbb{R}^2} g(x,y)f_{(X,Y)}(x,y)dxdy=\int_{\mathbb{R}} \left(\int_{\mathbb{R}} g(x,y)f_{Y|X}(x,y)dy\right)f_{X}(x)dx.
\]</div>
</div>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["content.tabs.link", "content.code.copy", "content.code.annotate", "navigation.tabs", "navigation.tabs.sticky", "navigation.indexes", "toc.follow", "toc.integrate"], "search": "../../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.f1b6f286.min.js"></script>
      
        <script src="../../../javascripts/mathjax.js"></script>
      
        <script src="../../../javascripts/node_modules/mathjax/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>